<h1 class="gameTitle text-center">TRIVIA BOARDS:</h1>
<h2 id="triviaCategory" class="text-center"><span id="categoryEmojisLeft"></span>
  <span id="categoryLabel" class="{{category}}">{{category}}</span>
  <span id="categoryEmojisRight"></span>
</h2>
<h3 class="questionNumberLabel text-center">QUESTION <span id="questionNumber">1</span>:</h3>
{{#each questions }}
{{!-- QUESTION --}}
<div class="container questionDiv question{{this.id}}" data-id="{{this.id}}" 
data-background="{{this.background}}" style="min-height: 350px; max-height: 450px">
  <div class="row text-center">
    <div class="col">
      <h2 class="question" data-correct="{{this.correct}}" data-id="{{this.id}}">{{this.question}}</h2>
    </div>
  </div>

  {{!-- QUESTION BUTTONS --}}
  <div class="row text-center answerRow1">
    <div class="col">
      <button class="btn btn-primary answer answerA answer{{this.id}}" data-id="{{this.id}}" data-answer="a"
        data-correct="{{this.correct}}">
        <span class="answerLabel"><span class="choiceA">A:</span> {{this.answers.a}}</span>
      </button>
    </div>
  </div>
  <div class="row text-center answerRow2">
    <div class="col">
      <button class="btn btn-warning answer answerB answer{{this.id}}" data-id="{{this.id}}" data-answer="b"
        data-correct="{{this.correct}}">
        <span class="answerLabel"><span class="choiceB">B:</span> {{this.answers.b}}</span>
      </button>
    </div>
  </div>
  <div class="row text-center answerRow3">
    <div class="col">
      <button class="btn btn-success answer answerC answer{{this.id}}" data-id="{{this.id}}" data-answer="c"
        data-correct="{{this.correct}}">
        <span class="answerLabel"><span class="choiceC">C:</span> {{this.answers.c}}</span>
      </button>
    </div>
  </div>
  <div class="row text-center answerRow4">
    <div class="col">
      <button class="btn btn-danger answer answerD answer{{this.id}}" data-id="{{this.id}}" data-answer="d"
        data-correct="{{this.correct}}">
        <span class="answerLabel"><span class="choiceA">D:</span> {{this.answers.d}}</span>
      </button>
    </div>
  </div>

  <div class="correctAnswer correctAnswerQuestion{{this.id}} text-center">
    <h2><span class="userAnswerLabel">YOU ANSWERED: <span class="userAnsweredQuestion{{this.id}}">NULL</span></span>
      <span class="correctAnswerLabel">CORRECT ANSWER: <span class="{{this.correct}}">{{this.correct}}</span></span>
    </h2>
  </div>


</div>
{{/each}}

<div id="footer">
  <div class="row">
    <div class="col">
      <h3 id="correctAnswersLabel">CORRECT &#10004;: <span id="correctAnswersNumber"></span></h3>
      </h3>
    </div>
    <div class="col">
      <h3 id="incorrectAnswersLabel">INCORRECT &#10006;: <span id="incorrectAnswersNumber"></span>
    </div>
  </div>
</div>


<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script>
  if ($("#categoryLabel").text("animals")) {
    $("#categoryEmojisLeft").html("&#128049;");
    $("#categoryEmojisRight").html("&#128054;");
  }
  var questionNumber = 1;
  var correctAnswers = 0;
  var incorrectAnswers = 0;
  var clickingEnabled = true;
  for (i = 0; i < 10; i++) {
  $(".question" + i).css("background", "url(" + $(".question" + i).data("background") + ")");
      console.log($(".question" + i).css("background"));
  }
  
  $("#questionNumber").text(questionNumber);
  $("#correctAnswersNumber").text(correctAnswers);
  $("#incorrectAnswersNumber").text(incorrectAnswers);

  function nextQuestion(clickingEnabled) {
    $(".question" + questionNumber).fadeIn(1000);
    $(".answer").on("click", function () {
      if (clickingEnabled === true) {
        clickingEnabled = false;
        let id = $(this).data("id");
        let answer = $(this).data("answer");
        $(".userAnsweredQuestion" + id).addClass(answer);
        $(".userAnsweredQuestion" + id).text(answer)
        $(".correctAnswerQuestion" + id).fadeIn();
        if ($(this).data("answer") === $(this).data("correct")) {
          correctAnswers++;
          $("#correctAnswersNumber").text(correctAnswers);
        }
        else {
          incorrectAnswers++;
          $("#incorrectAnswersNumber").text(incorrectAnswers);
        }
        console.log("# CORRECT ANSWERS: " + correctAnswers);
        setTimeout(function () {
          $(".question" + id).fadeOut(1000);
        }, 2500)
        setTimeout(function () {
          questionNumber++;
          if (questionNumber === 11) {
            $(".questionNumberLabel").remove();
          }
          $("#questionNumber").text(questionNumber);
          $(".question" + questionNumber).fadeIn();
          return clickingEnabled = true;
          console.log("CLICKING ENABLED");
        }, 3500)
      }
      else {
        console.log("CLICKING DISABLED")
      }
    })
  }

  nextQuestion(clickingEnabled);
</script>